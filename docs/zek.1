.\" Automatically generated by Pandoc 1.19.2.4
.\"
.TH "ZEK" "1" "November, 23 2018" "" ""
.hy
.SH NAME
.PP
\f[B]zek\f[] \- generate Go struct definitions from XML
.SH SYNOPSIS
.PP
zek [\f[I]options\f[]] < [\f[I]file\f[]]
.SH DESCRIPTION
.PP
The Go programming language supports XML serialization through struct
tags.
The \f[C]zek\f[] command line tool will convert a stream of XML
documents into a suitable struct definition.
The XML data is read from a file or, if none given, from stdin.
.IP
.nf
\f[C]
zek\ <\ file.xml
\f[]
.fi
.PP
The idea of code generation is not new and has been layed out in the
blog post \f[I]Generating code\f[] (https://blog.golang.org/generate)
from 2014\-12\-22 by Rob Pike.
Go has many source code generators, notably
\f[I]JSONGen\f[] (https://github.com/bemasher/JSONGen) and also a few
for XML.
The \f[C]zek\f[] tool is a bit different, as it will \f[I]always\f[]
emit a valid struct \- as opposed to the otherwise great
\f[I]XMLGen\f[] (https://github.com/dutchcoders/XMLGen) \- and it will
work on raw data, that has no DTD or XSD.
.PP
An online version has been created by Krzysztof Kowalczyk which is
available at https://www.onlinetool.io/xmltogo/.
.SH OPTIONS
.TP
.B \-F
Skip formatting.
The formatter might choke on funny characters.
.RS
.RE
.TP
.B \-c
Emit more compact representation.
This might be the default in a future version.
.RS
.RE
.TP
.B \-d
Emit debug output.
.RS
.RE
.TP
.B \-e
Add comments with examples.
Can be used in conjuction with \f[C]\-u\f[] to make examples unique.
.RS
.RE
.TP
.B \-j
Add tags for JSON as well.
.RS
.RE
.TP
.B \-max\-examples \f[I]INT\f[]
Limit the number of examples (default 10).
.RS
.RE
.TP
.B \-n \f[I]NAME\f[]
Use a different name for the struct.
.RS
.RE
.TP
.B \-p
Write an example program to stdout.
.RS
.RE
.TP
.B \-s
Strict parsing.
.RS
.RE
.TP
.B \-t
Emit struct for tag matching this name.
.RS
.RE
.TP
.B \-u
Unique examples only.
.RS
.RE
.TP
.B \-version
Show program version.
.RS
.RE
.TP
.B \-x
Max length for a single example (default 25).
.RS
.RE
.SH BUGS
.PP
Mapping between XML elements and data structures is inherently flawed:
an XML element is an order\-dependent collection of anonymous values,
while a data structure is an order\-independent collection of named
values.
.PP
From: https://golang.org/pkg/encoding/xml/#pkg\-note\-BUG
.SH EXAMPLE
.PP
There are numerous examples of XML files on the web (e.g.
try: https://www.google.com/search?q=filetype:xml+inurl:rss).
Below is an example from a publishers publication feed.
.IP
.nf
\f[C]
$\ curl\ \-sL\ http://epubs.siam.org/rss/SJOPE8.xml\ |\ zek\ \-e\ \-c
//\ RDF\ was\ generated\ 2018\-11\-23\ 14:21:21\ by\ tir\ on\ nexus.
type\ RDF\ struct\ {
\ \ \ \ XMLName\ xml.Name\ `xml:"RDF"`
\ \ \ \ Text\ \ \ \ string\ \ \ `xml:",chardata"`
\ \ \ \ Rdf\ \ \ \ \ string\ \ \ `xml:"rdf,attr"`
\ \ \ \ Cc\ \ \ \ \ \ string\ \ \ `xml:"cc,attr"`
\ \ \ \ Rss\ \ \ \ \ string\ \ \ `xml:"rss,attr"`
\ \ \ \ Content\ string\ \ \ `xml:"content,attr"`
\ \ \ \ Prism\ \ \ string\ \ \ `xml:"prism,attr"`
\ \ \ \ Dc\ \ \ \ \ \ string\ \ \ `xml:"dc,attr"`
\ \ \ \ Channel\ struct\ {
\ \ \ \ \ \ \ \ Text\ \ \ \ \ \ \ \ \ \ \ \ string\ `xml:",chardata"`
\ \ \ \ \ \ \ \ About\ \ \ \ \ \ \ \ \ \ \ string\ `xml:"about,attr"`
\ \ \ \ \ \ \ \ Title\ \ \ \ \ \ \ \ \ \ \ string\ `xml:"title"`\ \ \ \ \ \ \ \ \ \ \ //\ Society\ for\ Industrial\ an...
\ \ \ \ \ \ \ \ Description\ \ \ \ \ string\ `xml:"description"`\ \ \ \ \ //\ Table\ of\ Contents\ for\ SIA...
\ \ \ \ \ \ \ \ Link\ \ \ \ \ \ \ \ \ \ \ \ string\ `xml:"link"`\ \ \ \ \ \ \ \ \ \ \ \ //\ https://epubs.siam.org/lo...
\ \ \ \ \ \ \ \ Publisher\ \ \ \ \ \ \ string\ `xml:"publisher"`\ \ \ \ \ \ \ //\ Society\ for\ Industrial\ an...
\ \ \ \ \ \ \ \ Language\ \ \ \ \ \ \ \ string\ `xml:"language"`\ \ \ \ \ \ \ \ //\ en\-US
\ \ \ \ \ \ \ \ PublicationName\ string\ `xml:"publicationName"`\ //\ SIAM\ Journal\ on\ Optimizat...
\ \ \ \ \ \ \ \ Items\ \ \ \ \ \ \ \ \ \ \ struct\ {
\ \ \ \ \ \ \ \ \ \ \ \ Text\ string\ `xml:",chardata"`
\ \ \ \ \ \ \ \ \ \ \ \ Seq\ \ struct\ {
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Text\ string\ `xml:",chardata"`
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Li\ \ \ []struct\ {
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Text\ \ \ \ \ string\ `xml:",chardata"`
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Resource\ string\ `xml:"resource,attr"`
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\ `xml:"li"`
\ \ \ \ \ \ \ \ \ \ \ \ }\ `xml:"Seq"`
\ \ \ \ \ \ \ \ }\ `xml:"items"`
\ \ \ \ }\ `xml:"channel"`
\ \ \ \ Image\ struct\ {
\ \ \ \ \ \ \ \ Text\ \ string\ `xml:",chardata"`
\ \ \ \ \ \ \ \ About\ string\ `xml:"about,attr"`
\ \ \ \ \ \ \ \ Title\ string\ `xml:"title"`\ //\ SIAM\ Journal\ on\ Optimizat...
\ \ \ \ \ \ \ \ URL\ \ \ string\ `xml:"url"`\ \ \ //\ https://epubs.siam.org/na...
\ \ \ \ \ \ \ \ Link\ \ string\ `xml:"link"`\ \ //\ https://epubs.siam.org/lo...
\ \ \ \ }\ `xml:"image"`
\ \ \ \ Item\ []struct\ {
\ \ \ \ \ \ \ \ Text\ \ \ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:",chardata"`
\ \ \ \ \ \ \ \ About\ \ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"about,attr"`
\ \ \ \ \ \ \ \ Title\ \ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"title"`\ \ \ \ \ \ \ \ \ \ \ \ //\ Random\ Gradient\ Extrapola...
\ \ \ \ \ \ \ \ Link\ \ \ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"link"`\ \ \ \ \ \ \ \ \ \ \ \ \ //\ https://epubs.siam.org/do...
\ \ \ \ \ \ \ \ Encoded\ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"encoded"`\ \ \ \ \ \ \ \ \ \ //\ SIAM\ Journal\ on\ Optimizat...
\ \ \ \ \ \ \ \ Description\ \ \ \ \ \ string\ \ \ `xml:"description"`\ \ \ \ \ \ //\ SIAM\ Journal\ on\ Optimizat...
\ \ \ \ \ \ \ \ Identifier\ \ \ \ \ \ \ string\ \ \ `xml:"identifier"`\ \ \ \ \ \ \ //\ doi:10.1137/17M1157891,\ d...
\ \ \ \ \ \ \ \ Source\ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"source"`\ \ \ \ \ \ \ \ \ \ \ //\ SIAM\ Journal\ on\ Optimizat...
\ \ \ \ \ \ \ \ Date\ \ \ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"date"`\ \ \ \ \ \ \ \ \ \ \ \ \ //\ 2018\-10\-02T07:00:00Z,\ 201...
\ \ \ \ \ \ \ \ Rights\ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"rights"`\ \ \ \ \ \ \ \ \ \ \ //\ ©\ 2018,\ Society\ for\ Indu...
\ \ \ \ \ \ \ \ Creator\ \ \ \ \ \ \ \ \ \ []string\ `xml:"creator"`\ \ \ \ \ \ \ \ \ \ //\ Guanghui\ Lan,\ Yi\ Zhou,\ An...
\ \ \ \ \ \ \ \ PublicationName\ \ string\ \ \ `xml:"publicationName"`\ \ //\ Random\ Gradient\ Extrapola...
\ \ \ \ \ \ \ \ Volume\ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"volume"`\ \ \ \ \ \ \ \ \ \ \ //\ 28,\ 28,\ 28,\ 28,\ 28,\ 28,\ 2...
\ \ \ \ \ \ \ \ Number\ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"number"`\ \ \ \ \ \ \ \ \ \ \ //\ 4,\ 4,\ 4,\ 4,\ 4,\ 4,\ 4,\ 4,\ 4...
\ \ \ \ \ \ \ \ StartingPage\ \ \ \ \ string\ \ \ `xml:"startingPage"`\ \ \ \ \ //\ 2753,\ 2783,\ 2809,\ 2839,\ 2...
\ \ \ \ \ \ \ \ EndingPage\ \ \ \ \ \ \ string\ \ \ `xml:"endingPage"`\ \ \ \ \ \ \ //\ 2782,\ 2808,\ 2838,\ 2871,\ 2...
\ \ \ \ \ \ \ \ CoverDate\ \ \ \ \ \ \ \ string\ \ \ `xml:"coverDate"`\ \ \ \ \ \ \ \ //\ 2018\-01\-01T08:00:00Z,\ 201...
\ \ \ \ \ \ \ \ CoverDisplayDate\ string\ \ \ `xml:"coverDisplayDate"`\ //\ 2018\-01\-01T08:00:00Z,\ 201...
\ \ \ \ \ \ \ \ Doi\ \ \ \ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"doi"`\ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ 10.1137/17M1157891,\ 10.11...
\ \ \ \ \ \ \ \ URL\ \ \ \ \ \ \ \ \ \ \ \ \ \ string\ \ \ `xml:"url"`\ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ https://epubs.siam.org/do...
\ \ \ \ \ \ \ \ Copyright\ \ \ \ \ \ \ \ string\ \ \ `xml:"copyright"`\ \ \ \ \ \ \ \ //\ ©\ 2018,\ Society\ for\ Indu...
\ \ \ \ }\ `xml:"item"`
}
\f[]
.fi
.SH CONTRIBUTORS
.PP
Mateusz Burniak (https://github.com/matbur)
.SH AUTHORS
Martin Czygan (https://github.com/miku).
